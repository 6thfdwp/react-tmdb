(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,a,t){e.exports=t(60)},37:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(28),o=t.n(c),l=t(8),i=(t(37),t(7)),s=t(5),m=t(9),u=t.n(m),v=t(12),p=t(31),d=t(13),f=t.n(d),h="https://api.themoviedb.org/3",E="6ed12e064b90ae1290fa326ce9e790ff",g=function(e,a){return Object(p.a)({},e,a)},b=function(){var e=Object(n.useReducer)(g,{pending:!1,error:null,data:[]}),a=Object(s.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)(function(){var e="".concat(h,"/movie/popular?api_key=").concat(E,"&page=1");(function(){var a=Object(v.a)(u.a.mark(function a(){var t;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r({pending:!0,error:null}),a.prev=1,a.next=4,f.a.get(e);case 4:t=a.sent,r({pending:!1,data:t.data.results}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),r({pending:!1,error:a.t0});case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(){return a.apply(this,arguments)}})()()},[]),[t]},N=function(e){var a=Object(n.useReducer)(g,{pending:!1,error:null,hits:[]}),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)(function(){var a=e.trim(),t="".concat(h,"/search/movie?api_key=").concat(E,"&page=1&query=").concat(a),n=function(){var e=Object(v.a)(u.a.mark(function e(){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({pending:!0,error:null}),e.prev=1,e.next=4,f.a.get(t);case 4:n=e.sent,console.log("[useSearchMovies] done: by name ".concat(a)),c({pending:!1,hits:n.data.results}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({pending:!1,error:e.t0});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}();e.trim()?n(e.trim()):c({pending:!1,hits:[]})},[e]),[r]},_=function(e){var a=Object(n.useReducer)(g,{pending:!1,error:null,movie:null}),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)(function(){var a="".concat(h,"/movie/").concat(e,"?api_key=").concat(E);(function(){var e=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({pending:!0,error:null}),e.prev=1,e.next=4,f.a.get(a);case 4:t=e.sent,c({pending:!1,movie:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({pending:!1,error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}})()()},[e]),[r]};function x(e){var a=e.hit;return r.a.createElement(l.b,{to:"/movie/".concat(a.id)},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("i",{className:"fa fa-film"}),r.a.createElement("li",null,a.title)))}function w(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],o=N(t),l=Object(s.a)(o,1)[0],i=(l.pending,l.error,l.hits);return r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{className:"search-input",placeholder:"Search",value:t,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{className:"search-box_icon"},r.a.createElement("i",{className:"fa fa-search",style:{fontSize:18}})),function(e){return e.length?r.a.createElement("div",{className:"search-box_result"},r.a.createElement("ul",{className:"search-box_result_list"},e.map(function(e){return r.a.createElement(x,{key:e.id,hit:e})}))):null}(i))}var y="#00d573",O="#5E35B1",j="#C51162";function k(e){var a=e.score,t=j;return a>=8?t=y:a>=4&&(t=O),r.a.createElement("div",{className:"movie-card_score",style:{backgroundColor:t}},r.a.createElement("span",null,"".concat(10*a,"%")))}var S="https://image.tmdb.org/t/p/w370_and_h556_bestv2";function B(e){var a=e.movie,t=new Date(a.release_date),n="".concat(t.toLocaleString("en-us",{month:"long"}),", ").concat(t.getFullYear());return r.a.createElement("div",{className:"col-6 col-md-4 movie-card "},r.a.createElement(l.b,{to:"/movie/".concat(a.id)},r.a.createElement("img",{alt:"movie cover",className:"movie-cover-photo",src:"".concat(S).concat(a.poster_path)}),r.a.createElement(k,{score:a.vote_average}),r.a.createElement("div",{className:"movie-card_info"},r.a.createElement("span",{className:"movie-card_title"},a.title),r.a.createElement("span",{className:"secondary-text"},n))))}function C(){var e=b(),a=Object(s.a)(e,1)[0],t=(a.pending,a.error,a.data);return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app-header"},r.a.createElement(w,null)),r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"title-text"},"Popular Movies"),r.a.createElement("div",{className:"row"},t.map(function(e){return r.a.createElement(B,{key:e.id,movie:e})}))))}var F="https://image.tmdb.org/t/p";function M(e){var a=e.movie,t="".concat(Math.floor(a.runtime/60),"h ").concat(a.runtime%60,"min");return r.a.createElement("div",{className:"movie-detail_container"},r.a.createElement("img",{className:"movie-cover-photo_small",src:"".concat(F,"/w185_and_h278_bestv2/").concat(a.poster_path)}),r.a.createElement("div",{className:"movie-detail_info"},r.a.createElement("h2",{className:"title-text movie-detail_title"},a.title),r.a.createElement("div",{className:"secondary-text movie-detail_meta"},r.a.createElement("span",null,a.release_date.split("-")[0]," \u2022 ","".concat(10*a.vote_average,"%")," user score"),r.a.createElement("div",null,t))))}var R=function(e){e.length>1?e.goBack():e.replace({path:"/"})};function J(e){var a=e.match.params.id,t=_(a),n=Object(s.a)(t,1)[0],c=(n.pending,n.error,n.movie);return c?r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"movie-detail_header"},r.a.createElement("button",{onClick:function(){return R(e.history)}},r.a.createElement("i",{className:"fa fa-arrow-left"})),r.a.createElement("img",{className:"movie-backdrop-photo",src:"".concat(F,"/original/").concat(c.backdrop_path)})),r.a.createElement("div",{className:"container"},r.a.createElement(M,{movie:c}),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"movie-detail_overview"},r.a.createElement("h3",{className:"title-text",style:{color:"#fff",paddingBottom:15}},"Overview"),r.a.createElement("p",null,c.overview)))):null}var P=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:C}),r.a.createElement(i.a,{path:"/movie/:id",component:J}),r.a.createElement(i.a,{path:"*",render:function(){return r.a.createElement("h1",null,"Path not found")}}))};o.a.render(r.a.createElement(l.a,{basename:"/react-tmdb"},r.a.createElement(function(){return r.a.createElement("div",{className:"app-screen"},r.a.createElement(P,null))},null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ec65259e.chunk.js.map